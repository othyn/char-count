!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CharCount",[],t):"object"==typeof exports?exports.CharCount=t():e.CharCount=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){function e(t){i(this,e),this.options=Object.assign({selector:"cc-field"},t),this.instances=[],this.initElements(),delete this.options}return s(e,[{key:"initElements",value:function(){var e=this;if(this.options.selector&&this.options.selector.nodeType===Node.ELEMENT_NODE)this.createInstance(this.options.selector);else if(null!==document.getElementById(this.options.selector))this.createInstance(document.getElementById(this.options.selector));else if(0!==document.getElementsByClassName(this.options.selector).length){var t=document.getElementsByClassName(this.options.selector);Array.from(t,function(t){e.createInstance(t)})}else console.warn("No elements found with supplied selector:",this.options.selector)}},{key:"createInstance",value:function(e){var t=Object.assign({element:e},this.options),n=new a.default(t);this.instances.push(n),e.CharCount=n}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.element,s=void 0===n?null:n,r=t.warningThreshold,o=void 0===r?25:r,l=t.dangerThreshold,h=void 0===l?10:l,c=t.limitThreshold,u=void 0===c?100:c,d=t.counterClass,f=void 0===d?"cc-count":d,v=t.emptyClass,m=void 0===v?"cc-is-empty":v,p=t.fineClass,g=void 0===p?"cc-is-fine":p,y=t.warningClass,C=void 0===y?"cc-is-warning":y,E=t.dangerClass,b=void 0===E?"cc-is-danger":E,w=t.expendedClass,x=void 0===w?"cc-is-expended":w,_=t.onFieldEmpty,F=void 0===_?function(e,t){}:_,A=t.onFieldFine,j=void 0===A?function(e,t){}:A,k=t.onFieldWarning,S=void 0===k?function(e,t){}:k,O=t.onFieldDanger,I=void 0===O?function(e,t){}:O,T=t.onFieldExpended,M=void 0===T?function(e,t){}:T;i(this,e),null===s&&console.error("Error initialising element!"),this.element=s,u=this.element.hasAttribute("maxlength")?parseInt(this.element.getAttribute("maxlength")):u,this.states={empty:new a.default(0,m),fine:new a.default(u,g),warning:new a.default(o,C),danger:new a.default(h,b),expended:new a.default(0,x)},this.activeState=this.states.empty,this.inputLength=this.element.value.length,this.remainingCharacters=u,this.counterClass=f,this.counter=this.createElementCounter(),this.onFieldEmpty=F,this.onFieldFine=j,this.onFieldWarning=S,this.onFieldDanger=I,this.onFieldExpended=M,this.bindElement()}return s(e,[{key:"createElementCounter",value:function(){var e='<small class="'+this.counterClass+" "+this.activeState.colourClass+'">'+this.remainingCharacters+"</small>";return this.element.insertAdjacentHTML("afterend",e),this.element.nextElementSibling}},{key:"updateElementCounter",value:function(){this.counter.textContent=this.remainingCharacters,this.counter.className=this.counterClass+" "+this.activeState.colourClass}},{key:"bindElement",value:function(){this.element.addEventListener("input",this.handleInputEvent.bind(this)),this.updateElementState()}},{key:"handleInputEvent",value:function(){this.updateElementState()}},{key:"updateElementState",value:function(){this.inputLength=this.element.value.length,this.remainingCharacters=this.states.fine.threshold-this.inputLength,this.determineElementState(),this.updateElementCounter()}},{key:"determineElementState",value:function(){return 0===this.inputLength?void(this.states.empty.isActive()||(this.onFieldEmpty(this.element,this.remainingCharacters),this.states.empty.isActive(!0),this.activeState=this.states.empty)):this.remainingCharacters<=this.states.expended.threshold?void(this.states.expended.isActive()||(this.onFieldExpended(this.element,this.remainingCharacters),this.states.expended.isActive(!0),this.activeState=this.states.expended)):this.remainingCharacters<=this.states.danger.threshold?void(this.states.danger.isActive()||(this.onFieldDanger(this.element,this.remainingCharacters),this.states.danger.isActive(!0),this.activeState=this.states.danger)):this.remainingCharacters<=this.states.warning.threshold?void(this.states.warning.isActive()||(this.onFieldWarning(this.element,this.remainingCharacters),this.states.warning.isActive(!0),this.activeState=this.states.warning)):this.remainingCharacters<=this.states.fine.threshold?void(this.states.fine.isActive()||(this.onFieldFine(this.element,this.remainingCharacters),this.states.fine.isActive(!0),this.activeState=this.states.fine)):void 0}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i(this,e),this._threshold=t,this._colourClass=n,this._active=!1}return s(e,[{key:"isActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e&&(this._active=e),this.active}},{key:"threshold",get:function(){return this._threshold},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._threshold=e,this}},{key:"colourClass",get:function(){return this._colourClass},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._colourClass=e,this}}]),e}();t.default=r}])});